<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cutelee: Cutelee for theme artists</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cutelee
   &#160;<span id="projectnumber">6.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="namespaceCutelee.html" title="The Cutelee namespace holds all public Cutelee API.">Cutelee</a> for theme artists </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The syntax of Cutelee templates is the same as Django templates. This page is an introduction to the syntax, but any Django template introduction is also relevant. Here's some good ones:</p>
<ul>
<li><a href="https://djangobook.com/mdj2-django-templates/">https://djangobook.com/mdj2-django-templates/</a></li>
<li><a href="https://djangobook.com/extending-template-system/">https://djangobook.com/extending-template-system/</a></li>
<li><a href="http://docs.djangoproject.com/en/dev/topics/templates/">http://docs.djangoproject.com/en/dev/topics/templates/</a></li>
</ul>
<h1><a class="anchor" id="template_syntax"></a>
Syntax of Cutelee templates</h1>
<p>The syntax of Cutelee templates contains four types of tokens - plain text, comments, variables and control tags.</p>
<p>A simple template might look like this: </p><pre class="fragment">  {# My simple Template #}

  Hello {{ person.name }},

  {% if person.hasBirthday %}
  Happy Birthday!
  {% else %}
  Have a nice day!
  {% endif %}

  Bye,

  {{ myname }}
</pre><ul>
<li>Content inside <code>{# #}</code> are comments and are not part of the output.</li>
<li>Content inside <code>{{ }}</code> are variables which are substitued when the template is rendered.</li>
<li>Content inside <code>{% %}</code> are control tags which can affect the rendering of the template. Cutelee ships with commonly used tags such as <code>{%&#160;if&#160;%}</code>, <code>{%&#160;for&#160;%}</code>, <code>{%&#160;cycle&#160;%}</code> and a host of others (see&#160;<a href="http://docs.djangoproject.com/en/dev/ref/templates/builtins/">http://docs.djangoproject.com/en/dev/ref/templates/builtins/</a>). It is also possible for application developers and artists to define their own tags.</li>
</ul>
<h2><a class="anchor" id="loops"></a>
Loops</h2>
<p>The type of a variable determines how it can be used in templates. For example, treatment of items in an iterable context works as follows.</p>
<p>Lists work as expected: </p><pre class="fragment">  &lt;h2&gt;A few of my favourite things&lt;/h2&gt;
  &lt;ul&gt;
  {% for item in mylist %}
  &lt;li&gt;{{ item }}&lt;/li&gt;
  {% endfor %}
  &lt;/ul&gt;
</pre><p>If an <code>int</code> or <code>double</code> is used in a loop, it is treated as a list containing one item. That is, this</p>
<pre class="fragment">  {% for item in myint %}
  &lt;li&gt;{{ item }}&lt;/li&gt;
  {% endfor %}
</pre><p>would be rendered as </p><pre class="fragment">  &lt;li&gt;6&lt;/li&gt;
</pre><p>if <code>myint</code> is <code>6</code> in the context.</p>
<h2><a class="anchor" id="truthiness"></a>
Truthiness</h2>
<p>Truthiness of a variable is evaulated in a similar way to python. That is,</p>
<ul>
<li>The invalid <a class="el" href="classQVariant.html">QVariant</a> is <code>false</code></li>
<li>An empty <a class="el" href="classQString.html">QString</a> is <code>false</code></li>
<li>0 is <code>false</code></li>
<li>An empty container such as QVariantList or QVariantHash is <code>false</code></li>
<li>Boolean <code>false</code> is <code>false</code></li>
<li>QObjects that define their own truth behaviour and return <code>false</code> are <code>false</code></li>
</ul>
<p>Everything else is <code>true</code>.</p>
<pre class="fragment">  {% if mylist %}
  &lt;ul&gt;
  {% for item in mylist %}
  &lt;li&gt;{{ item }}&lt;/li&gt;
  {% endfor %}
  &lt;/ul&gt;
  {% endif %}
</pre><h2><a class="anchor" id="lookups"></a>
Variable lookups</h2>
<p>So far we've mostly used simple variable lookups in <code>{{&#160;variable&#160;}}</code> tags, but the template system is capable of a lot more. Complex structures can be evaluated using the dot (<code>'.'</code>) character.</p>
<p>The dot can be used for list index lookup (Note that list lookup is <code>0</code>-indexed): </p><pre class="fragment">  The first item is {{ mylist.0 }}, and the fifth item is {{ mylist.4 }}.
</pre><p>It can also be used for QVariantHash key lookup:</p>
<pre class="fragment">  The hash value is {{ myhash.mykey }}.
</pre><p>And it can retrieve properties from QObject instances:</p>
<pre class="fragment">  The object property is {{ myobj.myprop }}.
</pre><h2><a class="anchor" id="filters"></a>
Filters</h2>
<p>Filters can further affect the result of including a variable in a template. Filters are separated by the pipe (<code>'|'</code>) character.</p>
<pre class="fragment">  Name is {{ name }}, and name in uppercase is {{ name|upper }}.

  // rendered as
  // Name is Alice, and name in uppercase is ALICE.
</pre><p>Note that filters may be combined with dot-lookup. For example, if <code>people</code> is a list of <code><a class="el" href="classPerson.html">Person</a></code> objects, and <code><a class="el" href="classPerson.html">Person</a></code> objects have <code>name</code> properties:</p>
<pre class="fragment">  First persons name: {{ people.0.name|upper }}.

  // rendered as
  // First persons name: BOB.
</pre><p>Filters may also be chained. Here, 'Claire' is first uppercased, then lowercased:</p>
<pre class="fragment">  Name is {{ name|upper|lower }}

  // rendered as
  // First persons name: claire.
</pre><p>Filters may take one string argument, which is delimited by a colon (<code>':'</code>).</p>
<p>If <code>peoplestring</code> contains <code>"Dave and Ellen and Frank"</code>, we can cut the string <code>'and '</code></p>
<pre class="fragment">  The people are {{ peoplestring|cut:"and " }}

  // rendered as
  // The people are Dave Ellen Frank.
</pre><p>Cutelee ships with many useful filters including <code>upper</code>, <code>lower</code>, <code>slice</code>, <code>truncate</code>, <code>join</code>, <code>split</code> etc (see&#160;<a href="http://docs.djangoproject.com/en/dev/ref/templates/builtins/">http://docs.djangoproject.com/en/dev/ref/templates/builtins/</a>). Application developers and artists can also define their own filters.</p>
<h2><a class="anchor" id="template_loading"></a>
Template Inclusion and Inheritance</h2>
<p>It is possible for templates to include other templates in two ways, by directly including the content of another template, and by extending another template.</p>
<h3><a class="anchor" id="template_including"></a>
template_including</h3>
<p>The <code>{%&#160;include&#160;%}</code> tag is used to include the content of another template.</p>
<pre class="fragment">  &lt;h1&gt;My page&lt;/h1&gt;
    {% include "breadcrumbs.html" %}

  &lt;h2&gt;My Data&lt;/h2&gt;
    {% include "table.html" %}
</pre><p>If <code>"breadcrumbs.html"</code> and <code>"table.html"</code> exist and contain appropriate content, they will be rendered and added to the output of the template.</p>
<h3><a class="anchor" id="template_extending"></a>
template_extending</h3>
<p>The <code>{%&#160;extends&#160;%}</code> tag is used to include and override the content of another template.</p>
<p>The template being extended must define several blocks using the <code>{%&#160;block&#160;%}</code> tag. Typically, one or more base templates will be defined which define the structure and content of all templates, and some placeholders for other templates to fill in.</p>
<p>For example, a <code>base.html</code> might look like this:</p>
<pre class="fragment">  &lt;html&gt;
    &lt;head&gt;
      &lt;title&gt;{% block title %}My Stuff{% endblock %}&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
      &lt;div class="sidebar"&gt;
        {% block sidebar %}
        {% endblock sidebar %}
      &lt;/div&gt;
      &lt;div class="main_content"&gt;
        {% block content %}
        {% endblock content %}
      &lt;/div&gt;
    &lt;/body&gt;
  &lt;/html&gt;
</pre><p>Then other templates could be written which extend this template, reusing its content and replacing the content of the <code>{%&#160;block&#160;%}</code> tags.</p>
<p>For example, a page about books:</p>
<pre class="fragment">  {% extends "base.html" %}
  {% block title %}{{ block.super }} - My Books{% endblock %}

  {% block content %}
  &lt;ul&gt;
    {% for book in books %}
      &lt;li&gt;{{ book.name }}, {{ book.author }}
    {% endfor %}
  &lt;/ul&gt;
  {% endblock %}
</pre><p>Or a page about DVDs:</p>
<pre class="fragment">  {% extends "base.html" %}
  {% block title %}{{ block.super }} - My DVDs{% endblock %}

  {% block content %}
  &lt;ul&gt;
    {% for dvd in dvds %}
      &lt;li&gt;{{ dvd.title }}, {{ dvd.director }}
    {% endfor %}
  &lt;/ul&gt;
  {% endblock content %}
</pre><p>Note that it is optional to override a <code>{%&#160;block&#160;%}</code> in a extended template. It is also optional to repeat the name of the block in its corresponding <code>{%&#160;endblock&#160;%}</code> tag.</p>
<p>The content of an overriden tag is available in the <code>{{&#160;block.super&#160;}}</code> variable, and can be reused where appropriate. In the above examples, the use of <code>{{&#160;block.super&#160;}}</code> results in the titles of the rendered pages being <code>"My Stuff - My Books"</code>, and <code>"My Stuff - My DVDs"</code> respectively.</p>
<h1><a class="anchor" id="templates_safestring"></a>
Autoescaping in templates.</h1>
<p>When creating HTML string output it is necessary to consider escaping data inserted into the template. HTML escaping involves replacing <code>'&lt;'</code> with <code>'&amp;lt;'</code> and <code>'&amp;'</code> with <code>'&amp;amp;'</code> etc. Cutelee automatically escapes string input before adding it to the output.</p>
<p>This is relevant when writing a variable from the context into the <a class="el" href="classCutelee_1_1Template.html" title="The Template class is a tree of nodes which may be rendered.">Template</a>.</p>
<p>If the context object <code>companies</code> is a list containing (<code>'Burger King'</code>, <code>'Ben &amp; Jerries'</code>, <code>'Ford'</code>), and it is used in a template such as:</p>
<pre class="fragment">  &lt;ul&gt;
  {% for company in companies %}
    &lt;li&gt;{{ company }}&lt;/li&gt;
  {% endfor %}
  &lt;/ul&gt;
</pre><p>The output would be</p>
<pre class="fragment">  &lt;ul&gt;
    &lt;li&gt;Burger King&lt;/li&gt;
    &lt;li&gt;Ben &amp;amp; Jerries&lt;/li&gt;
    &lt;li&gt;Ford&lt;/li&gt;
  &lt;/ul&gt;
</pre><p>Notice that the <code>'&amp;'</code> has been replaced with <code>'&amp;amp;'</code>, as is appropriate for html output.</p>
<p>Sometimes however, a variable will contain text which has already been escaped and does not need to be escaped again. For example, if we already created a <code>table</code> in the context containing the content:</p>
<pre class="fragment">  &lt;table class="myclass"&gt;
    &lt;tr&gt;&lt;th&gt; Company &lt;/th&gt;&lt;th&gt; Product &lt;/th&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt; Burger King &lt;/td&gt;&lt;td&gt; Fast Food &lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt; Ben &amp;amp; Jerries &lt;/td&gt;&lt;td&gt; Icecream &lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt; Ford &lt;/td&gt;&lt;td&gt; Cars &lt;/td&gt;&lt;/tr&gt;
  &lt;/table&gt;
</pre><p>and a template with the content:</p>
<pre class="fragment">  &lt;h2&gt; Table of companies &lt;/h2&gt;

  {{ table }}

  As you can see in the table...
</pre><p>the content would not be rendered properly because it would be escaped.</p>
<pre class="fragment">  &lt;h2&gt; Table of companies &lt;/h2&gt;

  &amp;lt;table class=&amp;quot;myclass&amp;quot;&amp;gt;
    &amp;lt;tr&amp;gt;&amp;lt;th&amp;gt; Company &amp;lt;/th&amp;gt;&amp;lt;th&amp;gt; Product &amp;lt;/th&amp;gt;&amp;lt;/tr&amp;gt;
    &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt; Burger King &amp;lt;/td&amp;gt;&amp;lt;td&amp;gt; Fast Food &amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
    &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt; Ben &amp;amp;amp; Jerries &amp;lt;/td&amp;gt;&amp;lt;td&amp;gt; Icecream &amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
    &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt; Ford &amp;lt;/td&amp;gt;&amp;lt;td&amp;gt; Cars &amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
  &amp;lt;/table&amp;gt;

  As you can see in the table...
</pre><p>Note that the content of <code>table</code> has already been escaped. That is <code>'Ben &amp;amp; Jerries'</code> is already used instead of <code>'Ben &amp; Jerries'</code>. If a variable has already been escaped and should not be escaped again, it can be marked as safe from further escaping using the <code>safe</code> filter.</p>
<pre class="fragment">  &lt;h2&gt; Table of companies &lt;/h2&gt;

  {{ table|safe }}

  As you can see in the table...
</pre><p>Resulting in:</p>
<pre class="fragment">  &lt;h2&gt; Table of companies &lt;/h2&gt;

  &lt;table class="myclass"&gt;
    &lt;tr&gt;&lt;th&gt; Company &lt;/th&gt;&lt;th&gt; Product &lt;/th&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt; Burger King &lt;/td&gt;&lt;td&gt; Fast Food &lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt; Ben &amp;amp; Jerries &lt;/td&gt;&lt;td&gt; Icecream &lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt; Ford &lt;/td&gt;&lt;td&gt; Cars &lt;/td&gt;&lt;/tr&gt;
  &lt;/table&gt;

  As you can see in the table...
</pre><p>It is also possible to turn this autoescaping feature off for a block in a template.</p>
<p>For example:</p>
<pre class="fragment">  &lt;h2&gt; Some pre-prepared safe data &lt;/h2&gt;

  {% autoescape off %}
    {{ table }}
    As you can see in the table...

    {% for list in lists %}
      {{ list }}
    {% endfor %}

    {{ paragraph_data }}
  {% endautoescape %}
</pre><p>would not escape the content between the <code>autoescape</code> and <code>endautoescape</code> tags. This should only be used for content which is actually already safe.</p>
<dl class="section see"><dt>See also</dt><dd><a href="https://docs.djangoproject.com/en/1.9/ref/templates/language/#for-individual-variables">https://docs.djangoproject.com/en/1.9/ref/templates/language/#for-individual-variables</a></dd></dl>
<h2><a class="anchor" id="extending_syntax"></a>
Extending the syntax</h2>
<p>It is also possible to extend the syntax of Cutelee as you need it using Javascript if the application developer chooses. See <a class="el" href="extension.html#javascript_libraries">Javascript Libraries</a> for more. This is considered an advanced topic. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
