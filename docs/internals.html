<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cutelee: Internals</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cutelee
   &#160;<span id="projectnumber">6.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Internals </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section note"><dt>Note</dt><dd>This page is intended only to be informative for new contributors to Cutelee or people who are really interested in this kind of thing. These are implementation details and are likely to change without notice.</dd></dl>
<h1><a class="anchor" id="how_works"></a>
How Cutelee works.</h1>
<p>A template string is first tokenized by the Lexer class. The result is a list of tokens with content which can be of type <code>TextToken</code>, <code>CommentToken</code>, <code>VariableToken</code> or <code>TagToken</code>.</p>
<p>The tokens are further processed by the <a class="el" href="classCutelee_1_1Parser.html" title="The Parser class processes a string template into a tree of nodes.">Parser</a> class. The <a class="el" href="classCutelee_1_1Parser.html" title="The Parser class processes a string template into a tree of nodes.">Parser</a> generates nodes from the token stream. For a <code>TextToken</code> it generates a <code>TextNode</code>, for a <code>CommentToken</code> it generates nothing, for a <code>VariableToken</code> it generates a <code>VariableNode</code>, and for a <code>TagToken</code> it generates another type of <a class="el" href="classCutelee_1_1Node.html" title="Base class for all nodes.">Node</a> determined by available plugins. Some plugins are built in, and others may be loaded by the template itself using the <code>{%&#160;load&#160;%}</code> tag, or preloaded by the application developer.</p>
<p>The plugin uses the Abstract Factory Pattern. It returns a list of concrete factories, one for each tag handled by that plugin. The factories have a <code>getNode</code> method which accepts the tag content and the active parser as an argument and returns a concrete <a class="el" href="classCutelee_1_1Node.html" title="Base class for all nodes.">Node</a>. The <code>getNode</code> method may advance the parser in the case of begin/end tags etc. When the parser is finished, it has created a tree of nodes, which is essentially a <a class="el" href="classCutelee_1_1Template.html" title="The Template class is a tree of nodes which may be rendered.">Template</a> object.</p>
<p>A <a class="el" href="classCutelee_1_1Template.html" title="The Template class is a tree of nodes which may be rendered.">Template</a> is rendered with a <a class="el" href="classCutelee_1_1Context.html" title="The Context class holds the context to render a Template with.">Context</a> object. During rendering, each node in the template has its <code>render</code> method called with the <a class="el" href="classCutelee_1_1Context.html" title="The Context class holds the context to render a Template with.">Context</a>. The <a class="el" href="classCutelee_1_1Node.html" title="Base class for all nodes.">Node</a> may contain different sub-trees, one of which is rendered, as is the case for <code><a class="el" href="classIfNode.html">IfNode</a></code>, or it might contain a single sub-tree which is rendered multiple times, as in the case of <code><a class="el" href="classForNode.html">ForNode</a></code>, etc. The rendering outputs a string, which is the rendered output of the <a class="el" href="classCutelee_1_1Template.html" title="The Template class is a tree of nodes which may be rendered.">Template</a> for a particular <a class="el" href="classCutelee_1_1Context.html" title="The Context class holds the context to render a Template with.">Context</a>. A single <a class="el" href="classCutelee_1_1Template.html" title="The Template class is a tree of nodes which may be rendered.">Template</a> may be rendered multiple times with mutliple different Contexts.</p>
<p>Plugins can return <a class="el" href="classCutelee_1_1Filter.html" title="Base class for all filters.">Filter</a> and <a class="el" href="classCutelee_1_1AbstractNodeFactory.html" title="Base class for all NodeFactories.">AbstractNodeFactory</a> instances. Filters can manipulate <a class="el" href="classCutelee_1_1Variable.html" title="A container for static variables defined in Templates.">Variable</a> instances in some way before rendering them to the output.</p>
<p>Loading templates to include or extend is accomplished using the <code>loadByName</code> methods. The secondary template should use the same state as the initially created/loaded template, so that it uses the same template loaders, has the same plugins available by default and uses the same search directories to find additional plugins. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
